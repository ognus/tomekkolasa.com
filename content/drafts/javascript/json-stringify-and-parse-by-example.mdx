---
title: JSON.stringify() and JSON.parse() by Example
---

Examples of how and how not to use `JSON.stringify()` in your JavaScript code.

## JSON.stringify()

The `JSON.stringify()` method converts a value to it's JSON string representation. Most commonly used to convert a JavaScript object into a JSON string. You can also pass primitive values like numbers or booleans and they will be converted to strings.

Beside `value`, the method also accepts two optional parameters:

`JSON.stringify(value[, replacer[, space]])`

Let's have a look at some examples how to use the `replacer` and `space` arguments.

### replacer - a custom JSON serializer

When calling `JSON.stringify()` you can pass a function as a second argument. The function allows you to modify how `JSON.stringify()` converts a value into string.

To mimic the default behaviour of `JSON.stringify()`, our custom replacer function would look somehing like that:

```javascript
JSON.stringify(object, (key, value) => {
  return value;
});
```

But, let's have a look at some more interesting example. We will use the custom replacer function to "hide" the value of a `password` property of the object we pass in.

```javascript
const user = { email: "goku@capsule.corp", password: "kamehameha" };

JSON.stringify(user, (key, value) => {
  // if property name is "password" hide the real value
  if (key === "password") {
    return "***";
  }
  // othwerwise, proceed as normal by returning the property's value
  return value;
});
// "{"email":"goku@capsule.corp","password":"***"}"
```

Turns out that a function is not the only value we can pass in the second argument. It also accepts an array of String and Number values that we can use to specify which properties of the value object will be included in the resulting JSON string.

```javascript
const user = {
  email: "goku@capsule.corp",
  username: "kakarotto",
  password: "kamehameha",
};

JSON.stringify(user, ["email", "username"]);
// "{"email":"goku@capsule.corp","username":"kakarotto"}"
```

### toJSON()

We can also customize the `JSON.stringify()` on per object basis. If an object contains a method `toJSON()`, it's return value will be converted to JSON string, instead of the whole object value.

It's yet another way we can use to alter the way object properties are stringified or exclude unwanted properties. This time however, we can encapsulate this logic within our object if we like to.

Let's have a look at the example.

We create a `Credentials` instance which contains user's email and password. We implement a `toJSON` method to not include the password field in the JSON string, unless our user instance itself is a value of property named `data`. This could be useful when we send the user object as a body of a HTTP POST request. If we wrapped it with an object with property `data` if will contain much need `password` field.

```javascript
class Credentials {
  constructor(email, password) {
    this.email = email;
    this.password = password;
  }

  toJSON(key) {
    if (key === "data") {
      return this;
    }

    return { email: this.email };
  }
}

// Using class is just an example.
// toJSON() will also work with object literal syntax as well
const user = new Credentials("joe@user.com", "secret");

JSON.stringify(user);
// "{"email":"joe@user.com"}"

JSON.stringify({ data: user });
// "{"data":{"email":"joe@user.com","password":"secret"}}"
```

### Intendation

```javascript
const user = {
  name: "Son Gok≈´",
  profile: {
    height: 175,
    occupation: "farmer",
  },
};

JSON.stringify(user, null, "üçâ");
// {
// üçâ"name": "Son Gok≈´",
// üçâ"profile": {
// üçâüçâ"height": 175,
// üçâüçâ"occupation": "farmer"
// üçâ}
// }

JSON.stringify(user, null, "|  ");
// {
// |  "name": "Son Gok≈´",
// |  "profile": {
// |  |  "height": 175,
// |  |  "occupation": "farmer"
// |  }
// }
```

## JSON.parse()

The `JSON.parse()` method converts a JSON string to plain JavaScript object or value.

```javascript
JSON.parse(text[, reviver])
```

We can use the optional `reviver` function to filter or alter object properties before it's returned. I don't use it that ofthen, because it doesn't provide any performance. The object is already transformed


